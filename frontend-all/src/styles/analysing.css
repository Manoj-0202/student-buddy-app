/* Base */
.an-root {
  max-width: 480px; /* Increased max-width for better desktop viewing */
  margin: 0 auto;
  padding: clamp(16px, 4vw, 24px); /* Fluid padding */
  font-family: "Plus Jakarta Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: #181411;
  background: #fff;
}

/* Top bar */
.an-top {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  margin-bottom: clamp(6px, 1.5vw, 10px); /* Fluid margin */
}
.an-top h2 { font-weight: 700; font-size: clamp(20px, 4vw, 24px); } /* Fluid font size */
.an-back {
  position: absolute; left: 0;
  background: transparent; border: 0; padding: 6px 8px;
  font-size: clamp(18px, 3.5vw, 22px); /* Fluid font size */
  color: #1e1e1e; cursor: pointer;
}

.an-sub { font-size: clamp(15px, 3vw, 18px); color: #333; margin-bottom: clamp(12px, 3vw, 18px); } /* Fluid font size and margin */

/* Cards */
.an-card {
  background: #f5f2f0;
  border-radius: 10px;
  padding: clamp(14px, 3.5vw, 20px); /* Fluid padding */
  border: 1px solid #eee7e2;
  box-shadow: 0 1px 3px rgba(0,0,0,0.03);
}

/* Textarea */
.an-input textarea {
  width: 100%;
  min-height: clamp(140px, 25vh, 200px); /* Fluid min-height */
  resize: vertical; /* Changed from none to vertical for better user experience */
  background: transparent;
  border: 0;
  outline: none;
  font-size: clamp(15px, 3vw, 18px); /* Fluid font size */
  line-height: 1.5;
  color: #181411;
}

/* Buttons */
.an-row { display: flex; align-items: center; justify-content: space-between; }
.an-actions { margin: clamp(12px, 3vw, 18px) 0 clamp(8px, 2vw, 12px); } /* Fluid margin */

.an-btn {
  display: inline-flex; align-items: center; gap: 8px;
  padding: clamp(10px, 2.5vw, 14px) clamp(18px, 4vw, 24px); /* Fluid padding */
  border: 0; border-radius: 10px;
  font-weight: 700; cursor: pointer;
  transition: transform .06s ease, background-color .2s ease, box-shadow .2s ease;
  font-size: clamp(14px, 2.8vw, 16px); /* Fluid font size */
}
.an-btn:active { transform: translateY(1px); }

.an-btn-muted { background: #ebe7e4; color: #1f1a16; }
.an-btn-muted:hover { background: #e2ddd9; }

.an-btn-accent {
  background: #f47b25; color: #fff;
  box-shadow: 0 4px 10px rgba(244,123,37,.25);
}
.an-btn-accent:hover { background: #e66d0f; }

.an-btn-soft { background: #fff3ec; color: #a44d0e; border: 1px solid #ffd9bf; }

.an-error { color: #d52a2a; font-weight: 600; margin: clamp(8px, 2vw, 12px) 0 clamp(2px, 0.5vw, 4px); } /* Fluid margin */

/* Listening chip */
.an-chip {
  display: inline-flex; align-items: center; gap: 8px;
  margin: clamp(8px, 2vw, 12px) 0 clamp(2px, 0.5vw, 4px); /* Fluid margin */
  padding: clamp(6px, 1.5vw, 10px) clamp(10px, 2.5vw, 14px); /* Fluid padding */
  background: #fff3ec; color: #a44d0e; border: 1px solid #ffd9bf;
  border-radius: 999px; font-weight: 700; font-size: clamp(13px, 2.5vw, 15px); width: fit-content; /* Fluid font size */
}
.an-pulse { width: clamp(8px, 2vw, 10px); height: clamp(8px, 2vw, 10px); border-radius: 50%; background: #f47b25; animation: anPulse 1s infinite; } /* Fluid dimensions */
@keyframes anPulse { 0%{transform:scale(.9);opacity:.6} 50%{transform:scale(1.2);opacity:1} 100%{transform:scale(.9);opacity:.6} }

/* Audio preview */
.an-audio { margin: clamp(8px, 2vw, 12px) 0 clamp(4px, 1vw, 6px); } /* Fluid margin */
.an-audio audio { width: 100%; margin-bottom: clamp(8px, 2vw, 12px); border-radius: 8px; outline: none; } /* Fluid margin */

/* Sections */
.an-section { font-size: clamp(16px, 3.5vw, 20px); font-weight: 800; margin: clamp(14px, 3vw, 20px) 0 clamp(10px, 2.5vw, 16px); } /* Fluid font size and margin */

/* Score card */
.an-score { display: flex; align-items: center; justify-content: space-between; }
.an-score-label { font-size: clamp(14px, 3vw, 16px); color: #443f3a; } /* Fluid font size */
.an-score-value { font-size: clamp(28px, 6vw, 36px); font-weight: 800; } /* Fluid font size */

/* Suggestions */
.an-suggestions { display: grid; gap: clamp(12px, 3vw, 18px); } /* Fluid gap */

.an-suggestion {
  display: grid;
  grid-template-columns: clamp(42px, 10vw, 50px) 1fr; /* Fluid column width */
  gap: clamp(12px, 3vw, 18px); /* Fluid gap */
  align-items: start;
}

.an-grade {
  width: clamp(42px, 10vw, 50px); height: clamp(42px, 10vw, 50px); /* Fluid dimensions */
  display: grid; place-items: center;
  background: #f1edea;
  border: 1px solid #e5ded8;
  border-radius: 10px;
  font-weight: 800; font-size: clamp(18px, 4vw, 22px); /* Fluid font size */
}
.an-grade--empty { background: #f7f4f2; color: transparent; }

.an-suggestion-body { line-height: 1.3; }
.an-suggestion-title { font-weight: 800; margin-bottom: clamp(4px, 1vw, 6px); } /* Fluid margin */
.an-suggestion-note  { color: #4a4744; font-size: clamp(14px, 2.8vw, 16px); } /* Fluid font size */

/* Feedback */
.an-feedback {
  display: grid;
  grid-template-columns: clamp(42px, 10vw, 50px) 1fr; /* Fluid column width */
  gap: clamp(12px, 3vw, 18px); /* Fluid gap */
}
.an-feedback-icon {
  width: clamp(42px, 10vw, 50px); height: clamp(42px, 10vw, 50px); /* Fluid dimensions */
  display: grid; place-items: center;
  background: #f1edea;
  border: 1px solid #e5ded8;
  border-radius: 12px;
  font-size: clamp(18px, 4vw, 22px); /* Fluid font size */
}
.an-feedback-title { font-weight: 800; }
.an-feedback-note  { color: #4a4744; margin-top: clamp(4px, 1vw, 6px); font-size: clamp(14px, 2.8vw, 16px); } /* Fluid font size and margin */

/* Bottom nav */
.an-bottom-row { display: flex; justify-content: center; gap: clamp(12px, 3vw, 18px); margin-top: clamp(18px, 4vw, 24px); } /* Fluid gap and margin */

/* Media Queries for larger screens */
@media (min-width: 768px) {
  .an-root {
    max-width: 720px;
    padding: 30px;
  }
  .an-top h2 { font-size: 28px; }
  .an-sub { font-size: 18px; }
  .an-input textarea { min-height: 250px; }
  .an-btn { padding: 12px 28px; font-size: 16px; }
  .an-chip { font-size: 14px; }
  .an-section { font-size: 22px; }
  .an-score-label { font-size: 16px; }
  .an-score-value { font-size: 48px; }
  .an-grade { font-size: 24px; }
  .an-suggestion-note { font-size: 16px; }
  .an-feedback-icon { font-size: 24px; }
  .an-feedback-note { font-size: 16px; }
}
